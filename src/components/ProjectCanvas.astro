---
import { Image } from "astro:assets";
import { AspectRatio, Box, Flex, Heading, Text } from "@radix-ui/themes";

interface Props {
    images?: string[];
    title?: string;
    description?: string;
}

const {
    images = [],
    title = "Project Title",
    description = "Project description goes here.",
} = Astro.props;

const PLACEHOLDERS = [
    "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe",
    "https://images.unsplash.com/photo-1614851099511-773084f6911d",
    "https://images.unsplash.com/photo-1620641788421-7a1c342ea42e",
];

const finalImages = [...images, ...PLACEHOLDERS.slice(images.length, 3)];
---

<Flex direction="column" gap="4">
    <!-- Image Canvas -->
    <AspectRatio ratio={3 / 2} client:load>
        <Flex
            width="100%"
            height="100%"
            position="relative"
            overflow="clip"
            align="center"
            justify="center"
            style={{ backgroundColor: "var(--gray-3)" }}
        >
            <Flex
                width="120%"
                height="80%"
                align="center"
                justify="center"
                gap="4"
            >
                {
                    finalImages.map((src) => (
                        <Box
                            height="100%"
                            flexShrink="0"
                            style={{ aspectRatio: "2/3" }}
                        >
                            <Image
                                src={src}
                                alt=""
                                inferSize
                                style="width: 100%; height: 100%; object-fit: cover;"
                            />
                        </Box>
                    ))
                }
            </Flex>
        </Flex>
    </AspectRatio>

    <!-- Title and Description -->
    <Flex direction="column" gap="2">
        <Heading as="h2" size="3" weight="medium" highContrast>
            {title}
        </Heading>
        <Text size="3" as="p">
            {description}
        </Text>
    </Flex>
</Flex>
