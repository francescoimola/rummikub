---
import { Image } from "astro:assets";
import { AspectRatio, Box, Flex } from "@radix-ui/themes";

// Props definition
interface Props {
    images?: string[];
}

const { images = [] } = Astro.props;

const PLACEHOLDERS = [
    "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe",
    "https://images.unsplash.com/photo-1614851099511-773084f6911d",
    "https://images.unsplash.com/photo-1620641788421-7a1c342ea42e",
];

const finalImages = [...images, ...PLACEHOLDERS.slice(images.length, 3)];
---

<AspectRatio ratio={3 / 2} client:load>
    <Flex
        width="100%"
        height="100%"
        position="relative"
        overflow="clip"
        align="center"
        justify="center"
        style={{ backgroundColor: "var(--gray-3)" }}
        data-name="Project"
    >
        <Flex width="120%" height="80%" align="center" justify="center" gap="4">
            {
                /* All three images share the same aspect ratio and flex settings */
            }
            <Box height="100%" flexShrink="0" style={{ aspectRatio: "2/3" }}>
                <Image
                    src={finalImages[0]}
                    alt=""
                    inferSize
                    style="width: 100%; height: 100%; object-fit: cover;"
                />
            </Box>

            <Box height="100%" flexShrink="0" style={{ aspectRatio: "2/3" }}>
                <Image
                    src={finalImages[1]}
                    alt=""
                    inferSize
                    style="width: 100%; height: 100%; object-fit: cover;"
                />
            </Box>

            <Box height="100%" flexShrink="0" style={{ aspectRatio: "2/3" }}>
                <Image
                    src={finalImages[2]}
                    alt=""
                    inferSize
                    style="width: 100%; height: 100%; object-fit: cover;"
                />
            </Box>
        </Flex>
    </Flex>
</AspectRatio>
